webpackJsonp([10],{RUR6:function(e,t,n){var a=n("Wtcz");a(a.S+a.F*!n("uoC7"),"Object",{defineProperty:n("hHwa").f})},UIL1:function(e,t){},a3Yh:function(e,t,n){"use strict";t.__esModule=!0;var a,r=n("liLe"),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},liLe:function(e,t,n){e.exports={default:n("zhwF"),__esModule:!0}},zSUh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("a3Yh"),r=n.n(a),o=n("lC5x"),l=n.n(o),c=n("J0Oq"),s=n.n(c),i=n("L9X6"),u={data:function(){return{list:[],total:0,size:10,page:1}},created:function(){this.getlist()},methods:{getlist:function(){var e=this;return s()(l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)({size:e.size,page:e.page});case 2:return n=t.sent,e.list=n.map(function(e){return e.newboolean=1==e.isnew,e.hotboolean=1==e.ishot,e}),t.next=6,Object(i.f)();case 6:e.total=t.sent;case 7:case"end":return t.stop()}},t,e)}))()},delRow:function(e){var t=this;this.$confirm("确定删除吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(s()(l.a.mark(function n(){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.b)(e);case 2:1==t.list.length&&1!=t.page&&t.page--,t.getlist();case 4:case"end":return n.stop()}},n,t)})))},pagechange:function(e){this.page=e,this.getlist()},changeRow:function(e,t){var n=this;return s()(l.a.mark(function a(){var o,c,s,u;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(u in console.log(e,t),o=1==e[t]?0:1,c=r()({id:e.id},t,o),s=new FormData,c)s.append(u,c[u]);return a.next=7,Object(i.c)(s);case 7:n.getlist();case 8:case"end":return a.stop()}},a,n)}))()}},components:{}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-link",{attrs:{to:"/goods/add"}},[n("el-button",{attrs:{type:"primary"}},[n("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 添加\n    ")])],1),e._v(" "),n("div",{staticClass:"table-box"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[n("el-table-column",{attrs:{align:"center",prop:"firstcatename",label:"一级分类"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"secondcatename",label:"二级分类"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"goodsname",label:"商品名称"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"role",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"100px",border:"1px solid #eee"},attrs:{src:e.$HOST+t.row.img,alt:""}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"price",label:"销售价格"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"market_price",label:"市场价格"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"isnew",label:"是否新品"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{on:{change:function(n){return e.changeRow(t.row,"isnew")}},model:{value:t.row.newboolean,callback:function(n){e.$set(t.row,"newboolean",n)},expression:"scope.row.newboolean"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"ishot",label:"是否热卖"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{on:{change:function(n){return e.changeRow(t.row,"ishot")}},model:{value:t.row.hotboolean,callback:function(n){e.$set(t.row,"hotboolean",n)},expression:"scope.row.hotboolean"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?n("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):n("el-tag",{attrs:{type:"danger"}},[e._v("已禁用")])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("router-link",{attrs:{to:"/goods/"+t.row.id}},[n("el-button",{attrs:{type:"success",circle:"",size:"small"}},[n("i",{staticClass:"el-icon-edit"})])],1),e._v(" "),n("el-button",{attrs:{type:"danger",size:"small",circle:""},on:{click:function(n){return e.delRow(t.row.id)}}},[n("i",{staticClass:"el-icon-delete"})])]}}])})],1),e._v(" "),n("br"),e._v(" "),n("el-pagination",{attrs:{background:"","page-size":e.size,"current-page":e.page,total:e.total},on:{"current-change":e.pagechange}})],1)],1)},staticRenderFns:[]};var f=n("C7Lr")(u,p,!1,function(e){n("UIL1")},"data-v-442689cf",null);t.default=f.exports},zhwF:function(e,t,n){n("RUR6");var a=n("ZuHZ").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}}});
//# sourceMappingURL=10.90b715c2858dcd3220e6.js.map