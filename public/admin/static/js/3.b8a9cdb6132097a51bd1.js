webpackJsonp([3],{"2gly":function(e,t,r){"use strict";r.d(t,"d",function(){return d}),r.d(t,"a",function(){return b}),r.d(t,"c",function(){return g}),r.d(t,"b",function(){return v});var n,a,i,s,o=r("lC5x"),u=r.n(o),c=r("J0Oq"),f=r.n(c),l=r("pP4B"),m=r("I29D"),p=(r.n(m),r("bQIR")),d=(r.n(p),n=f()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0,!t){e.next=7;break}return e.next=4,l.a.get("/bannerinfo",{params:{id:t}});case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,l.a.get("/bannerlist");case 9:r=e.sent;case 10:return e.abrupt("return",r.list);case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),b=(a=f()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/banneradd",t);case 2:return r=e.sent,p.Message.success(r.msg),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)}),g=(i=f()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/banneredit",t);case 2:return r=e.sent,p.Message.success(r.msg),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),v=(s=f()(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return p.Message.warning("请传入删除id"),e.abrupt("return");case 3:return e.next=5,l.a.post("/bannerdelete",{id:t});case 5:return r=e.sent,p.Message.success(r.msg),e.abrupt("return",r.list);case 8:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},lrwi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("lC5x"),a=r.n(n),i=r("4YfN"),s=r.n(i),o=r("J0Oq"),u=r.n(o),c=r("2gly"),f={data:function(){return{forminfo:{title:"",img:"",status:1},rules:{title:[{required:!0,message:"分类名称必须写",trigger:"blur"}]},dialogVisible:!1,dialogImageUrl:"",fileList:[]}},created:function(){this.$route.params.id&&this.getinfo(this.$route.params.id)},methods:{getinfo:function(e){var t=this;return u()(a.a.mark(function r(){var n;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(c.d)(e);case 2:t.forminfo=r.sent,(n=t.forminfo.img?t.$HOST+t.forminfo.img:"")&&t.fileList.push({name:t.forminfo.catename,url:n}),s()({},t.forminfo);case 6:case"end":return r.stop()}},r,t)}))()},submit:function(){var e,t=this;this.$refs.forminfo.validate((e=u()(a.a.mark(function e(r){var n,i,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}for(i in n=new FormData,t.forminfo)n.append(i,t.forminfo[i]);if(s=void 0,!t.$route.params.id){e.next=11;break}return n.append("id",t.$route.params.id),e.next=8,Object(c.c)(n);case 8:s=e.sent,e.next=14;break;case 11:return e.next=13,Object(c.a)(n);case 13:s=e.sent;case 14:s&&t.$router.back(),e.next=18;break;case 17:t.$message.warn("验证不通过");case 18:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},reset:function(){this.$route.params.id?(this.fileList=[],this.getinfo(this.$route.params.id)):(this.$refs.forminfo.resetFields(),this.fileList=[])},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},fileChange:function(e){this.forminfo.img=e.raw},limitImg:function(){this.$message.warning("分类图片最多添加1个")}},components:{}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"bgf"},[r("el-col",{attrs:{span:12,offset:5}},[r("el-form",{ref:"forminfo",attrs:{"label-width":"100px",model:e.forminfo,rules:e.rules}},[r("el-form-item",{attrs:{label:"轮播图名称",prop:"title"}},[r("el-input",{model:{value:e.forminfo.title,callback:function(t){e.$set(e.forminfo,"title",t)},expression:"forminfo.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"轮播图图片",prop:"img"}},[r("el-upload",{attrs:{action:"#","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.fileList,limit:1,"on-change":e.fileChange,"auto-upload":!1,"on-exceed":e.limitImg}},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-radio",{attrs:{label:1},model:{value:e.forminfo.status,callback:function(t){e.$set(e.forminfo,"status",t)},expression:"forminfo.status"}},[e._v("正常")]),e._v(" "),r("el-radio",{attrs:{label:0},model:{value:e.forminfo.status,callback:function(t){e.$set(e.forminfo,"status",t)},expression:"forminfo.status"}},[e._v("禁用")])],1),e._v(" "),r("el-form-item",[e.$route.params.id?r("el-button",{attrs:{type:"success"},on:{click:e.submit}},[e._v("立即修改")]):r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("立即添加")]),e._v(" "),r("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var m=r("C7Lr")(f,l,!1,function(e){r("poZL")},"data-v-d7382512",null);t.default=m.exports},poZL:function(e,t){}});
//# sourceMappingURL=3.b8a9cdb6132097a51bd1.js.map