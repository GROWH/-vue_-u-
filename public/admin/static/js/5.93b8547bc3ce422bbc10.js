webpackJsonp([5],{AiUX:function(t,e){},EUuu:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("lC5x"),s=r.n(n),a=r("4YfN"),o=r.n(a),i=r("J0Oq"),f=r.n(i),u=r("4gwr"),c={},l={data:function(){return{forminfo:{specsname:"",attrs:"",status:1},attrlist:[{value:""}]}},created:function(){this.$route.params.id&&this.getinfo(this.$route.params.id)},methods:{getinfo:function(t){var e=this;return f()(s.a.mark(function r(){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.d)(t);case 2:e.forminfo=r.sent,e.attrlist=e.forminfo.attrs.map(function(t){return{value:t}}),c=o()({},e.forminfo);case 5:case"end":return r.stop()}},r,e)}))()},submit:function(){var t=this;return f()(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.forminfo.attrs=t.attrlist.map(function(t){return t.value}),t.forminfo.attrs[0]){e.next=4;break}return t.$message.warning("至少要有一个属性值"),e.abrupt("return",!1);case 4:if(t.forminfo.attrs=t.forminfo.attrs.join(","),r=void 0,!t.$route.params.id){e.next=13;break}return t.forminfo.id=t.$route.params.id,e.next=10,Object(u.c)(t.forminfo);case 10:r=e.sent,e.next=16;break;case 13:return e.next=15,Object(u.a)(t.forminfo);case 15:r=e.sent;case 16:r&&t.$router.back();case 17:case"end":return e.stop()}},e,t)}))()},reset:function(){this.$route.params.id?(this.forminfo=o()({},c),this.attrlist=this.forminfo.attrs.map(function(t){return{value:t}})):this.$refs.forminfo.resetFields()},addAttr:function(){this.attrlist.length<=5?this.attrlist.push({value:""}):this.$message.warning("属性值最多5个")},delAttr:function(t){this.attrlist.splice(t,1)}},components:{}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{staticClass:"bgf"},[r("el-col",{attrs:{span:12,offset:5}},[r("el-form",{ref:"forminfo",attrs:{"label-width":"100px",model:t.forminfo}},[r("el-form-item",{attrs:{label:"属性名",prop:"specsname"}},[r("el-input",{model:{value:t.forminfo.specsname,callback:function(e){t.$set(t.forminfo,"specsname",e)},expression:"forminfo.specsname"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"属性值"}},t._l(t.attrlist,function(e,n){return r("div",{key:n,staticClass:"row"},[r("el-input",{model:{value:e.value,callback:function(r){t.$set(e,"value",r)},expression:"item.value"}}),t._v(" "),0==n?r("el-button",{attrs:{type:"success"},on:{click:t.addAttr}},[t._v("添加属性")]):r("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delAttr(n)}}},[t._v("删除属性")])],1)}),0),t._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-radio",{attrs:{label:1},model:{value:t.forminfo.status,callback:function(e){t.$set(t.forminfo,"status",e)},expression:"forminfo.status"}},[t._v("正常")]),t._v(" "),r("el-radio",{attrs:{label:0},model:{value:t.forminfo.status,callback:function(e){t.$set(t.forminfo,"status",e)},expression:"forminfo.status"}},[t._v("禁用")])],1),t._v(" "),r("el-form-item",[t.$route.params.id?r("el-button",{attrs:{type:"success"},on:{click:t.submit}},[t._v("立即修改")]):r("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("立即添加")]),t._v(" "),r("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var p=r("C7Lr")(l,m,!1,function(t){r("AiUX")},"data-v-580bdc60",null);e.default=p.exports}});
//# sourceMappingURL=5.93b8547bc3ce422bbc10.js.map