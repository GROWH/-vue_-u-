{"version":3,"sources":["webpack:///src/pages/Seckill/Info.vue","webpack:///./src/pages/Seckill/Info.vue?513c","webpack:///./src/pages/Seckill/Info.vue","webpack:///./src/request/seckill.js"],"names":["Info","data","forminfo","title","begintime","endtime","first_cateid","second_cateid","goodsid","status","rules","required","message","trigger","toplist","secondlist","goodslist","time","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","created","this","getlist","$route","params","id","getinfo","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","Object","category","sent","stop","_this2","_callee2","_context2","seckill","topChange","secondChange","extends_default","submit","_ref","_this3","$refs","validate","_callee3","isok","res","_context3","$router","back","$message","warn","_x","apply","arguments","reset","resetFields","val","_this4","_callee4","_context4","_this5","_callee5","_context5","goods","components","Seckill_Info","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","offset","ref","label-width","model","label","prop","value","callback","$$v","$set","expression","_v","type","picker-options","range-separator","start-placeholder","end-placeholder","align","placeholder","on","change","_l","item","key","catename","goodsname","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","_ref2","_ref3","_ref4","getSeckill","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","$axios","get","abrupt","list","addSeckill","post","Message","success","msg","_x2","editSeckill","_x3","delSeckill","warning","_x4"],"mappings":"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","file":"static/js/2.57ae4e1efb3255bf18d9.js","sourcesContent":["<template>\n  <el-row class=\"bgf\">\n    <el-col :span=\"12\" :offset=\"5\">\n      <el-form label-width=\"100px\" :model=\"forminfo\" :rules=\"rules\" ref=\"forminfo\">\n        <el-form-item label=\"活动名称\" prop=\"title\">\n          <el-input v-model=\"forminfo.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"活动时间\" >\n          <el-date-picker\n            v-model=\"time\"\n            type=\"datetimerange\"\n            :picker-options=\"pickerOptions\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            align=\"right\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"一级分类\" prop=\"first_cateid\">\n          <el-select v-model=\"forminfo.first_cateid\" @change=\"topChange\" placeholder=\"请选择\">\n            <el-option label=\"请选择\" value></el-option>\n            <el-option\n              v-for=\"item in toplist\"\n              :label=\"item.catename\"\n              :value=\"item.id\"\n              :key=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"二级分类\" prop=\"first_cateid\">\n          <el-select v-model=\"forminfo.second_cateid\" @change=\"secondChange\" placeholder=\"请选择\">\n            <el-option label=\"请选择\" value></el-option>\n            <el-option\n              v-for=\"item in secondlist\"\n              :label=\"item.catename\"\n              :value=\"item.id\"\n              :key=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"选择商品\" prop=\"goodsid\">\n          <el-select v-model=\"forminfo.goodsid\" placeholder=\"请选择\">\n            <el-option label=\"请选择\" value></el-option>\n            <el-option\n              v-for=\"item in goodslist\"\n              :label=\"item.goodsname\"\n              :value=\"item.id\"\n              :key=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\" prop=\"status\">\n          <el-radio v-model=\"forminfo.status\" :label=\"1\">正常</el-radio>\n          <el-radio v-model=\"forminfo.status\" :label=\"0\">禁用</el-radio>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" v-if=\"!$route.params.id\" @click=\"submit\">立即添加</el-button>\n          <el-button type=\"success\" v-else @click=\"submit\">立即修改</el-button>\n          <el-button @click=\"reset\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\n// 如何区分是添加还是修改页面！\n// 根据路由是否传入的 动态参数！  this.$route.params.id  修改！\nimport { \n    editCategory, \n    addCategory, \n    getCategory,\n    getChildCategory \n} from \"@/request/category\";\nimport {  getCategoryGoods } from \"@/request/goods\";\nimport { addSeckill,editSeckill,getSeckill } from \"@/request/seckill\";\nlet defaultInfo = {}; // 修改的时候的重置！\nexport default {\n  data() {\n    return {\n      forminfo: {\n        title: \"\", // 活动名称\n        begintime: \"\", // 开始时间\n        endtime:\"\", // 结束时间\n        first_cateid: \"\", // 一级id\n        second_cateid:\"\", // 二级id\n        goodsid:\"\", // 商品编号\n        status: 1 // 状态\n      },\n      rules: {\n        // 表单的验证规则\n        title: [ { required: true, message: \"活动名称必须写\", trigger: \"blur\" }],\n        first_cateid: [ { required: true, message: \"一级分类必须\", trigger: \"blur\" }],\n        second_cateid: [ { required: true, message: \"二级分类必须\", trigger: \"blur\" }],\n        goodsid: [ { required: true, message: \"请选择商品\", trigger: \"blur\" }],\n      },\n      toplist: [], //一级分类列表,用于下拉列表！\n      secondlist: [], // 二级分类列表,用于下拉列表！\n      goodslist:[],  // 商品列表\n      time:\"\",  // 日期范围\n      pickerOptions: {  // 日期选择器配置项目\n        shortcuts: [{\n          text: '1天内',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            end.setTime(end.getTime() + 3600 * 1000 * 24 * 1);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '3天内',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            end.setTime(end.getTime() + 3600 * 1000 * 24 * 3);\n            picker.$emit('pick', [start, end]);\n          }\n        }, {\n          text: '1周内',\n          onClick(picker) {\n            const end = new Date();\n            const start = new Date();\n            end.setTime(end.getTime() + 3600 * 1000 * 24 * 7);\n            picker.$emit('pick', [start, end]);\n          }\n        }]\n      }\n    };\n  },\n  created() {\n    this.getlist(); // 获取列表\n    if (this.$route.params.id) {\n      // 获取修改的这一条的数据，赋给表单！\n      this.getinfo(this.$route.params.id);\n    }\n  },\n  methods: {\n    async getlist() {\n      // 获取分类列表\n      this.toplist = await getCategory();\n    },\n    async getinfo(id) {\n      // 获取修改数据，赋给表单！\n      this.forminfo = await getSeckill(id);\n      // 回显时间\n      let start = new Date(this.forminfo.begintime*1)\n      let end = new Date(this.forminfo.endtime*1)\n      this.time = [start,end]\n      this.topChange(this.forminfo.first_cateid);\n      this.secondChange(this.forminfo.second_cateid);\n      // 赋给一个临时变量，用于重置的时候再次赋值！\n      defaultInfo = { ...this.forminfo };\n    },\n    submit() {\n      // 提交数据 【添加、修改】\n      this.$refs.forminfo.validate(async isok => {\n        if (isok) {\n          // 发送请求！\n          this.forminfo.begintime = this.time[0].getTime();\n          this.forminfo.endtime = this.time[1].getTime();\n          let res;\n          if (this.$route.params.id) {\n                this.forminfo.id = this.$route.params.id;\n                res = await editSeckill(this.forminfo); // 修改请求\n          } else {\n              res = await addSeckill(this.forminfo); // 添加请求\n          }\n          if (res) {\n            this.$router.back();\n          }\n        } else {\n          this.$message.warn(\"验证不通过\");\n        }\n      });\n    },\n    reset() {\n      // 重置\n      // resetFields表单重置！\n      if (this.$route.params.id) {\n         this.getinfo(this.$route.params.id);\n      } else {\n        // 添加重置\n        this.$refs.forminfo.resetFields();\n        this.time =\"\";\n      }\n    },\n    async topChange(val){\n        // 如果选择了一级，就要去寻找一级对应的二级分类菜单\n        if(val){ // val就是一级分类的id\n           this.secondlist  = await getChildCategory(val);\n        }else{\n          this.secondlist = [];\n        }\n    },\n    async secondChange(val){\n        // 如果选择了二级，就要去寻找对应商品\n        if(val){ // val就是二级分类的id\n           this.goodslist  = await getCategoryGoods(this.forminfo.first_cateid,val);\n        }else{\n          this.goodslist = [];\n          \n        }\n    }\n  },\n  components: {}\n};\n\n</script>\n<style scoped>\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Seckill/Info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"bgf\"},[_c('el-col',{attrs:{\"span\":12,\"offset\":5}},[_c('el-form',{ref:\"forminfo\",attrs:{\"label-width\":\"100px\",\"model\":_vm.forminfo,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.forminfo.title),callback:function ($$v) {_vm.$set(_vm.forminfo, \"title\", $$v)},expression:\"forminfo.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"picker-options\":_vm.pickerOptions,\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"align\":\"right\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"一级分类\",\"prop\":\"first_cateid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.topChange},model:{value:(_vm.forminfo.first_cateid),callback:function ($$v) {_vm.$set(_vm.forminfo, \"first_cateid\", $$v)},expression:\"forminfo.first_cateid\"}},[_c('el-option',{attrs:{\"label\":\"请选择\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.toplist),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.catename,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"二级分类\",\"prop\":\"first_cateid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.secondChange},model:{value:(_vm.forminfo.second_cateid),callback:function ($$v) {_vm.$set(_vm.forminfo, \"second_cateid\", $$v)},expression:\"forminfo.second_cateid\"}},[_c('el-option',{attrs:{\"label\":\"请选择\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.secondlist),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.catename,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择商品\",\"prop\":\"goodsid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.forminfo.goodsid),callback:function ($$v) {_vm.$set(_vm.forminfo, \"goodsid\", $$v)},expression:\"forminfo.goodsid\"}},[_c('el-option',{attrs:{\"label\":\"请选择\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.goodslist),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.goodsname,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.forminfo.status),callback:function ($$v) {_vm.$set(_vm.forminfo, \"status\", $$v)},expression:\"forminfo.status\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.forminfo.status),callback:function ($$v) {_vm.$set(_vm.forminfo, \"status\", $$v)},expression:\"forminfo.status\"}},[_vm._v(\"禁用\")])],1),_vm._v(\" \"),_c('el-form-item',[(!_vm.$route.params.id)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"立即添加\")]):_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.submit}},[_vm._v(\"立即修改\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-f47c5c70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/Seckill/Info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f47c5c70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Info.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f47c5c70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f47c5c70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Seckill/Info.vue\n// module id = null\n// module chunks = ","// 某个模块的数据请求（增删改查！）\n\nimport $axios from \"@/common/http\";  // 封装的axios\nimport axios from \"axios\"   // 原生的axios\nimport { Message } from \"element-ui\"  // 提示框\n\n\nexport async function getSeckill(id) {\n    let res;\n    if (id) {\n        res = await $axios.get(\"/seckinfo\", { params: { id } });\n    } else {\n        res = await $axios.get(\"/secklist\");\n    }\n    return res.list;\n}\n\nexport async function addSeckill(data) {\n    let res = await $axios.post(\"/seckadd\", data);\n    Message.success(res.msg)\n    return true;\n}\n\nexport async function editSeckill(data) {\n    let res = await $axios.post(\"/seckedit\", data);\n    Message.success(res.msg)\n    return true;\n}\n\nexport async function delSeckill(id) {\n    if (!id) {\n        Message.warning(\"请传入删除id\");\n        return;\n    }\n    let res = await $axios.post(\"/seckdelete\", { id })\n    Message.success(res.msg)\n    return res.list;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/request/seckill.js"],"sourceRoot":""}